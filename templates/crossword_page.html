<html>
    <head>
        <meta charset="utf-8"/>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.5.0-beta4/html2canvas.min.js"></script> <!--to make screenshots of a certain element (keeping CSS features)-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.4/jspdf.min.js"></script><!--to convert screenshot to pdf-->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script><!--makes it easier to refer to html elements-->
        <title>Result</title>
    </head>
    <body>
        <div id="navbar" style="background-color: rgb(224, 239, 255);height:5%;">
            <a href="">
                <img src="https://icon-library.com/images/website-home-icon/website-home-icon-16.jpg" style="max-height: 100%;">
            </a>
        </div>
        <div id="crossword_box" style="text-align: center; border-width: 2px; border-color:black; border-style: solid; background-color: rgb(253, 213, 161);">

                <!--first choice-->
                <table id="result1" style="margin-left: auto;margin-right: auto;border-collapse: collapse;table-layout: fixed;width: 45%;background-color: yellowgreen;">
                    {% for row in crossword_1 %}
                        <tr>
                        {% for cell in row %}
                            {% if cell != '' %}
                                <td style="border: black solid 1px; border-collapse: collapse; background-color: white; text-align: center;">{{cell}}</td>
                            {% else %}
                                <td>{{cell}}</td>
                            {% endif %}
                        {% endfor %}
                        </tr>
                    {% endfor %}
                </table>

                <!--second choice-->
                <table style="margin-left: auto;margin-right: auto;border-collapse: collapse;table-layout: fixed;width: 45%;background-color:darkturquoise;">
                    {% for row in crossword_2 %}
                        <tr>
                        {% for cell in row %}
                                {% if cell != '' %}
                                    <td style="border: black solid 1px; border-collapse: collapse; background-color: white; text-align: center;">{{cell}}</td>
                                {% else %}
                                    <td >{{cell}}</td>
                                {% endif %}
                        {% endfor %}
                        </tr>
                    {% endfor %}
                </table>
                <button onclick="toPDF()">PDF of Image Above</button>
        </div>
        <script language="javascript">
            function toPDF(){
                var doc = new jsPDF('p', 'pt','a4',true);
                doc.setFontSize(16);
                doc.setTextColor(80, 77, 78);
                doc.text(50, 50, 'Take ur crossword and leave, bitch'); 
                html2canvas($("#result1"), {
                    scale: 5, //not working, resulting img is blurry, quality: 4 is not working either
                    onrendered: function(canvas) {
                    var imgData = canvas.toDataURL('image/png');
                    doc.addImage(imgData, 'PNG', 50, 70, $('#result1').width() / 1.5, $('#result1').height() / 1.5, 'SLOW');
                    console.log(imgData);
                    $('#result1').append(canvas);
                    doc.save('Result.pdf');
                    }
                });
            }
        </script>
    </body>
</html>