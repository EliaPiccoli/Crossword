<html>
    <head>
        <meta charset="utf-8"/>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.5.0-beta4/html2canvas.min.js"></script> <!--to make screenshots of a certain element (keeping CSS features)-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.4/jspdf.min.js"></script><!--to convert screenshot to pdf-->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <title>Result</title>
    </head>
    <body>
        <div id="navbar" style="background-color: rgb(224, 239, 255);height:5%;">
            <a href="">
                <img src="https://icon-library.com/images/website-home-icon/website-home-icon-16.jpg" style="max-height: 100%;">
            </a>
        </div>
        <div id="crossword_box" style="text-align: center; border-width: 2px; border-color:black; border-style: solid; background-color: rgb(253, 213, 161);">

                <!--first choice-->
                <table id="result1" style="margin-left: auto;margin-right: auto;border-collapse: collapse;table-layout: fixed;width: 30%;background-color: yellowgreen;">
                    {% for i in range(edges_1["top"], edges_1["bottom"]+1) %}
                        <tr>
                        {% for j in range(edges_1["left"], edges_1["right"]+1) %}
                            {% if crossword_1[i][j] != '' %}
                                {% if (i,j) in wordplacements_1 %}
                                    <td style="border: black solid 1px; border-collapse: collapse; background-color: white; text-align: center;"><sup>{{wordplacements_1[(i,j)]}}</sup>{{crossword_1[i][j]}}</td>
                                {% else %}    
                                    <td style="border: black solid 1px; border-collapse: collapse; background-color: white; text-align: center;">{{crossword_1[i][j]}}</td>
                                {% endif %}                        
                            {% else %}
                                <td>{{crossword_1[i][j]}}</td>
                            {% endif %}
                        {% endfor %}
                        </tr>
                    {% endfor %}
                </table>

                <!--second choice-->
                <table style="margin-left: auto;margin-right: auto;border-collapse: collapse;table-layout: fixed;width: 30%;background-color:darkturquoise;">
                    {% for i in range(edges_2["top"], edges_2["bottom"]) %}
                        <tr>
                        {% for j in range(edges_2["left"], edges_2["right"]+1) %}
                            {% if crossword_2[i][j] != '' %}
                                <td style="border: black solid 1px; border-collapse: collapse; background-color: white; text-align: center;">{{crossword_2[i][j]}}</td>
                            {% else %}
                                <td>{{crossword_2[i][j]}}</td>
                            {% endif %}
                        {% endfor %}
                        </tr>
                    {% endfor %}
                </table>
                <button onclick="toPDF()">PDF of Image Above</button>
        </div>
        <script language="javascript">
            function toPDF(){
                var doc = new jsPDF('p', 'pt','a4',true);
                doc.setFontSize(16);
                doc.setTextColor(80, 77, 78);
                doc.text(50, 50, 'Take ur crossword and leave, bitch'); 
                html2canvas($("#result1"), {
                    scale: 5,
                    onrendered: function(canvas) {
                    var imgData = canvas.toDataURL('image/jpeg');
                    
                    doc.addImage(imgData, 'PNG', 50, 70, $('#result1').width(), $('#result1').height(), 'SLOW');
                    console.log(imgData);
                    $('#result1').append(canvas);
                    doc.save('Spec_Sheet.pdf');
                    }
                });
            }
        </script>
    </body>
</html>