<html>
    <head>
        <meta charset="utf-8"/>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.5.0-beta4/html2canvas.min.js"></script> <!--to make screenshots of a certain element (keeping CSS features)-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.4/jspdf.min.js"></script><!--to convert screenshot to pdf-->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <title>Result</title>
    </head>
    <body>
        <div id="navbar" style="background-color: rgb(224, 239, 255);height:5%;">
            <a href="">
                <img src="https://icon-library.com/images/website-home-icon/website-home-icon-16.jpg" style="max-height: 100%;">
            </a>
        </div>
        <div id="crossword_box" style="text-align: center; border-width: 2px; border-color:black; border-style: solid; background-color: rgb(253, 213, 161);">

                <!--first choice-->
                <table id="result1" style="margin-left: auto;margin-right: auto;border-collapse: collapse;table-layout: fixed;width: 30%;background-color: yellowgreen;">
                    {% set count_bottom = namespace(value=0) %}
                    {% for row in crossword_1 %}
                        {% if count_bottom.value < bottom_border_1 %}
                            <tr>
                            {% set count_right = namespace(value=0) %}
                            {% for cell in row %}
                                {% if count_right.value < right_border_1 %}
                                    {% if cell != '' %}
                                        <td style="border: black solid 1px; border-collapse: collapse; background-color: white; text-align: center;">{{cell}}</td>
                                    {% else %}
                                        <td>{{cell}}</td>
                                    {% endif %}
                                    {% set count_right.value = count_right.value+1 %}
                                {% endif %}
                            {% endfor %}
                            </tr>
                            {% set count_bottom.value = count_bottom.value+1 %}
                        {% endif %}
                    {% endfor %}
                </table>

                <!--second choice-->
                <table style="margin-left: auto;margin-right: auto;border-collapse: collapse;table-layout: fixed;width: 30%;background-color:darkturquoise;">
                    {% set count_bottom = namespace(value=0) %}
                    {% for row in crossword_2 %}
                        {% if count_bottom.value < bottom_border_2 %}
                            <tr>
                            {% set count_right = namespace(value=0) %}
                            {% for cell in row %}
                                {% if count_right.value < right_border_2 %}
                                    {% if cell != '' %}
                                        <td style="border: black solid 1px; border-collapse: collapse; background-color: white; text-align: center;">{{cell}}</td>
                                    {% else %}
                                        <td>{{cell}}</td>
                                    {% endif %}
                                    {% set count_right.value = count_right.value+1 %}
                                {% endif %}
                            {% endfor %}
                            </tr>
                            {% set count_bottom.value = count_bottom.value+1 %}
                        {% endif %}
                    {% endfor %}
                </table>
                <button onclick="toPDF()">PDF of Image Above</button>
        </div>
        <script language="javascript">
            function toPDF(){
                var doc = new jsPDF('p', 'pt','a4',true);
                doc.setFontSize(16);
                doc.setTextColor(80, 77, 78);
                doc.text(50, 50, 'Take ur crossword and leave, bitch'); 
                html2canvas($("#result1"), {
                    scale: 5,
                    onrendered: function(canvas) {
                    var imgData = canvas.toDataURL('image/jpeg');
                    
                    doc.addImage(imgData, 'PNG', 50, 70, $('#result1').width(), $('#result1').height(), 'SLOW');
                    console.log(imgData);
                    $('#result1').append(canvas);
                    doc.save('Spec_Sheet.pdf');
                    }
                });
            }
        </script>
    </body>
</html>